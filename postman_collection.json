{
  "info": {"name": "Trailium API", "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},
  "item": [
    {"name": "Auth", "item": [
      {"name": "Register", "request": {"method": "POST", "header": [{"key": "Content-Type", "value": "application/json"}], "url": "{{baseUrl}}/api/auth/register/", "body": {"mode": "raw", "raw": "{\n  \"username\": \"tester1\",\n  \"password\": \"Test1234!\",\n  \"email\": \"tester1@example.com\"\n}"}}, "event": []},
      {"name": "Login", "request": {"method": "POST", "header": [{"key": "Content-Type", "value": "application/json"}], "url": "{{baseUrl}}/api/auth/login/", "body": {"mode": "raw", "raw": "{\n  \"username\": \"tester1\",\n  \"password\": \"Test1234!\"\n}"}}, "event": [{"listen": "test", "script": {"exec": ["var json = pm.response.json(); pm.collectionVariables.set('access', json.access); pm.collectionVariables.set('refresh', json.refresh);"]}}]},
      {"name": "Me", "request": {"method": "GET", "header": [{"key": "Authorization", "value": "Bearer {{access}}"}], "url": "{{baseUrl}}/api/users/me/"}},
      {"name": "Refresh", "request": {"method": "POST", "header": [{"key": "Content-Type", "value": "application/json"}], "url": "{{baseUrl}}/api/auth/refresh/", "body": {"mode": "raw", "raw": "{\n  \"refresh\": \"{{refresh}}\"\n}"}}, "event": [{"listen": "test", "script": {"exec": ["var json = pm.response.json(); pm.collectionVariables.set('access', json.access);"]}}]}
    ]},
    {"name": "Todos", "item": [
      {"name": "Create list", "request": {"method": "POST", "header": [{"key": "Authorization", "value": "Bearer {{access}}"}, {"key": "Content-Type", "value": "application/json"}], "url": "{{baseUrl}}/api/todos/lists/", "body": {"mode": "raw", "raw": "{\n  \"name\": \"Work\",\n  \"description\": \"Daily\",\n  \"kind\": \"work\"\n}"}}},
      {"name": "Create item", "request": {"method": "POST", "header": [{"key": "Authorization", "value": "Bearer {{access}}"}, {"key": "Content-Type", "value": "application/json"}], "url": "{{baseUrl}}/api/todos/items/", "body": {"mode": "raw", "raw": "{\n  \"list\": 1,\n  \"title\": \"Task A\"\n}"}}},
      {"name": "Create subitem", "request": {"method": "POST", "header": [{"key": "Authorization", "value": "Bearer {{access}}"}, {"key": "Content-Type", "value": "application/json"}], "url": "{{baseUrl}}/api/todos/subitems/", "body": {"mode": "raw", "raw": "{\n  \"parent\": 1,\n  \"title\": \"Sub A1\"\n}"}}},
      {"name": "Toggle item", "request": {"method": "POST", "header": [{"key": "Authorization", "value": "Bearer {{access}}"}], "url": "{{baseUrl}}/api/todos/items/1/toggle-done/"}},
      {"name": "Get list", "request": {"method": "GET", "header": [{"key": "Authorization", "value": "Bearer {{access}}"}], "url": "{{baseUrl}}/api/todos/lists/1/"}}
    ]}
  ],
  "variable": [{"key": "baseUrl", "value": "http://127.0.0.1:8000"}, {"key": "access", "value": ""}, {"key": "refresh", "value": ""}]
}
